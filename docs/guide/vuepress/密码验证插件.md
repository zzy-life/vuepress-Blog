---
secret: true
---
# å¯†ç éªŒè¯æ’ä»¶

> **ä¸€ä¸ªç”¨äºä¸ºä½ çš„åšå®¢æ·»åŠ  è®¿é—®éªŒè¯åŠŸèƒ½çš„ vuepress æ’ä»¶ã€‚**

## å®‰è£…

```bash
yarn add vuepress-plugin-posts-encrypt
```

## Usage ä½¿ç”¨

### Step 1: åœ¨ .vuepress/config.js ä¸­åˆå§‹åŒ–é…ç½®

```javascript
// .vuepress/config.js
module.exports = {

  // other options...
  plugins: [
    [
      'posts-encrypt',
      {
        route: '/auth',
        passwd: '123456',
        encryptInDev: true,
        expires: 1000  * 60
      }
    ]
}
```

> ğŸ‘‡[æ‰€æœ‰é…ç½®é¡¹](https://github.com/alphawq/vuepress-plugin-posts-encrypt/blob/main/README.zh-cn.md#é…ç½®é¡¹) å‚è§ä¸‹æ–¹ `Configs` éƒ¨åˆ† ğŸ‘‡

### Step 2: é…ç½®åšå®¢ä¸­éœ€è¦åŠ å¯†è®¿é—®çš„æ–‡ç« 

- åœ¨éœ€è¦åŠ å¯†è®¿é—®çš„æ–‡ç« çš„ [Front Matter](https://vuepress.vuejs.org/zh/guide/frontmatter.html#å…¶ä»–æ ¼å¼çš„-front-matter) ä¸­è®¾ç½® `secret: true`

```markdown
---
title: A Private Post
date: 2021-09-03
categories:
  - Profile
tags:
  - resume
secret: true
---
```

- åŒæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ `passwd` é…ç½®æ¥ä¸ºæ¯ç¯‡æ–‡ç« å•ç‹¬è®¾ç½®ä¸åŒçš„å¯†ç 

```markdown
---
title: A Private Post
date: 2021-09-03
categories:
  - Profile
tags:
  - resume
secret: true
passwd: 1233211234567
---
```

`å°±æ˜¯è¿™æ ·ï¼` ğŸš€ğŸš€ğŸš€

### Step3: è¿è¡Œèµ·æ¥çœ‹ä¸‹æ•ˆæœå§

*BTW*ï¼š **å¼€å‘ç¯å¢ƒä¸‹ï¼Œè¿˜éœ€è¦é…ç½® `encryptInDev: true`**

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨å¼€å‘æœåŠ¡ï¼Œ

```bash
vuepress dev docs
```



## é…ç½®é¡¹

### æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿

è‡ªå®šä¹‰æ¨¡æ¿çš„åœºæ™¯ä¸‹ï¼Œæ’ä»¶éœ€è¦å‘ä½ çš„æ¨¡æ¿æ–‡ä»¶ä¸­æ³¨å…¥éƒ¨åˆ†é€»è¾‘ï¼Œå¦‚ï¼š`å¯†ç æ ¡éªŒ` ç›¸å…³çš„é€»è¾‘ã€‚æ‰€ä»¥éœ€è¦åœ¨æ¨¡æ¿ä¸­æä¾›æ³¨å…¥è¿™éƒ¨åˆ†ä»£ç çš„æ ‡è®°ã€‚

ä»¥ä¸‹æ ‡è®°é™¤äº† **`<%validate_js_tag%>` & `<%crypto_inject_tag%>`** ä¹‹å¤–ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰çš„ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©ï¼š

*BTW*ï¼š**ä»¥ä¸‹æ ‡è®°éƒ½æ˜¯è‡ªä¸Šè€Œä¸‹ä¾æ¬¡æ’å…¥åˆ°æ¨¡æ¿ä¸­çš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–æ³¨æ„æ ‡è®°çš„ä¹¦å†™ä½ç½®**

æ¨¡æ¿ä¸­å†…å®¹æ³¨å…¥çš„ä½ç½®æ ‡è®°åŒ…æ‹¬å¦‚ä¸‹å‡ ç§

#### `<%iview_css_tag%>` ã€éå¿…é¡»ã€‘

> [`iView`](https://www.iviewui.com/docs/introduce) ç»„ä»¶åº“ `CSS` èµ„æºæ³¨å…¥ä½ç½®æ ‡è®°

- éœ€è¦åœ¨ `injectConfig` é…ç½®ä¸­è®¾ç½® `iview: true`

#### `<%animate_css_tag%>` ã€éå¿…é¡»ã€‘

> [`Animate.css`](https://animate.style/) æ³¨å…¥ä½ç½®æ ‡è®°

- éœ€è¦åœ¨ `injectConfig` é…ç½®ä¸­è®¾ç½® `animate: true`

#### `<%iview_js_tag%>` ã€éå¿…é¡»ã€‘

> [`iView`](https://www.iviewui.com/docs/introduce) ç»„ä»¶åº“ `JS` æ³¨å…¥ä½ç½®æ ‡è®°

- éœ€è¦åœ¨ `injectConfig` é…ç½®ä¸­è®¾ç½® `iview: true`

#### `<%minified_css_tag%>` ã€éå¿…é¡»ã€‘

> å¤–éƒ¨ `less` æ–‡ä»¶ç¼–è¯‘åçš„æ³¨å…¥ä½ç½®æ ‡è®°

- å¦‚æœä½ ä¸æƒ³åœ¨æ¨¡æ¿é‡Œé¢å†™ `css`ï¼Œè¿™ä¸ªé…ç½®å¯ä»¥å…è®¸ä½ å°†æ¨¡æ¿ä¸­éœ€è¦ç”¨åˆ°çš„æ ·å¼æ–‡ä»¶å•ç‹¬æŠ½ç¦»åˆ° `less` æ–‡ä»¶ä¸­ï¼Œæ’ä»¶ä¼šå¸®ä½  `ç¼–è¯‘å¹¶æ’å…¥` åˆ°å¯¹åº”ä½ç½®ã€‚ ä½ åªéœ€è¦åœ¨ `injectConfig` çš„ `less` è®¾ç½®ä¸­æŒ‡å®šæ ·å¼æ–‡ä»¶çš„ç»å¯¹è·¯å¾„å³å¯

#### `<%crypto_inject_tag%>` ã€å¿…é¡»ã€‘

> [`CryptoJS`](https://github.com/brix/crypto-js) è„šæœ¬æ–‡ä»¶æ’å…¥ä½ç½®

#### `<%validate_js_tag%>` ã€å¿…é¡»ã€‘

> **å¯†ç æ ¡éªŒ**ä»¥åŠ**å·²éªŒè¯è·¯ç”±çš„å­˜å‚¨**ç›¸å…³é€»è¾‘çš„æ³¨å…¥ä½ç½®æ ‡è®°

### æ”¯æŒè®¾ç½®å¯†ç è¿‡æœŸæ—¶é—´

é»˜è®¤æƒ…å†µä¸‹ï¼Œå·²éªŒè¯é€šè¿‡çš„è·¯ç”±åœ¨åŒä¸€å°è®¾å¤‡åŒä¸€ä¸ªæµè§ˆå™¨ä¸”ç”¨æˆ·æ²¡æœ‰æ¸…ç†æœ¬åœ°ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œä¸‹æ¬¡è¿›æ¥æ˜¯ä¸éœ€è¦å†æ¬¡è¿›è¡ŒéªŒè¯çš„ï¼Œå› ä¸ºæ˜¯å­˜å‚¨åœ¨ `localstorage` ä¸­çš„

å¦‚æœä½ ä¸æƒ³è¿™æ ·çš„è¯ï¼Œå¯ä»¥ä¸ºå¯†ç è®¾ç½® `expires`ï¼Œå•ä½æ˜¯`æ¯«ç§’ï¼ˆmsï¼‰`ã€‚è¿™ä¸ªè¿‡æœŸæ—¶é—´æ˜¯é’ˆå¯¹æ¯ä¸ªè·¯ç”±è€Œè¨€çš„ï¼Œè€Œä¸æ˜¯æ‰€æœ‰è·¯ç”±ã€‚

*BTW*: **è¿‡æœŸæ—¶é—´ä¸è¦è®¾ç½®å¾—è¿‡çŸ­ï¼Œå¦åˆ™å¯èƒ½ä¼šé€ æˆè·¯ç”±æ­»å¾ªç¯**

### ä»¥ä¸‹æ˜¯æ”¯æŒçš„æ‰€æœ‰é…ç½®é€‰é¡¹ï¼š

```javascript
interface InjectConfig {
  // è‡ªå®šä¹‰æ¨¡æ¿å¤–è”çš„lessæ–‡ä»¶åœ°å€
  less?: string
  // æ˜¯å¦æ³¨å…¥IViewç»„ä»¶åº“ï¼Œé»˜è®¤ false
  iview?: boolean
  // æ˜¯å¦æ³¨å…¥anmitecssåŠ¨ç”»åº“ï¼Œé»˜è®¤ false
  animate?: boolean
}

interface Options {
  // éªŒè¯é¡µé¢çš„è·¯ç”±åœ°å€ï¼Œ é»˜è®¤`/auth`
  route?: string
  // é»˜è®¤å¯†ç 
  passwd: string
  // è‡ªå®šä¹‰å¯†ç éªŒè¯æ¨¡æ¿
  template?: string
  // å¼€å‘ç¯å¢ƒæ˜¯å¦åŠ å¯†ï¼Œé»˜è®¤ false
  encryptInDev?: boolean
  // å¯†ç è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤æ°¸ä¹…æœ‰æ•ˆï¼Œå•ä½ï¼šms
  expires?: number
  // è‡ªå®šä¹‰æ¨¡æ¿æ—¶æ˜¯å¦éœ€è¦æ³¨å…¥å…¶ä»–èµ„æº
  injectConfig?: InjectConfig
}

const options: Options = {
  route: '/auth', // é»˜è®¤çš„éªŒè¯é¡µè·¯ç”±ï¼Œæœ€ç»ˆè·¯ç”±ä¼šæ‹¼æ¥ä¸Šç”¨æˆ·çš„ base é…ç½®
  passwd: 'hello world', // é»˜è®¤å¯†ç  `hello world`
  template: '', // è‡ªå®šä¹‰æ¨¡æ¿çš„æ–‡ä»¶è·¯å¾„ï¼Œä¸æŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿
  encryptInDev: false, // å¼€å‘æ¨¡å¼ä¸‹æ˜¯å¦å¼€å¯æ–‡ç« åŠ å¯†ï¼ˆå¯ç”¨äºé¢„è§ˆï¼‰ï¼Œ é»˜è®¤ false
  expires: 0, // å¯†ç è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤æ°¸ä¸è¿‡æœŸ
  injectConfig: {
    // è‡ªå®šä¹‰æ¨¡æ¿æ—¶ï¼Œéœ€è¦æ³¨å…¥çš„å¤–éƒ¨èµ„æºé…ç½®
    less: '',
    iview: false,
    animate: false
  }
}
```

ğŸ‘ğŸ‘ **One key triple connection** ğŸ‘ğŸ‘

## Changelog

[CHANGELOG.md](https://github.com/alphawq/vuepress-plugin-posts-encrypt/blob/main/CHANGELOG.md)

## å¸¸è§é—®é¢˜

### éªŒè¯é¡µé¢æ·»åŠ æ–‡å­—é—®é¢˜

ä¿®æ”¹äº†

node_modules\vuepress-plugin-posts-encrypt\assets\index.html

56è¡Œæ’å…¥

```vue
 <div class="text">
              è¯·åŠ å¾®ä¿¡å…¬ä¼—å·: <span style="color: rgb(45, 140, 240);">æ—¶ä¸å¾…æˆ‘</span></div>
              <div class="text">
                å‘é€ï¼š<span style="color: rgb(45, 140, 240);">åšå®¢å£ä»¤</span> è·å¾—è§£é”å£ä»¤
              </div>
```

### èµ„æºåŠ è½½å¤ªæ…¢é—®é¢˜

è‡ªè¡ŒæŠŠç½‘ç»œåŠ è½½èµ„æºæ”¾åˆ°vuepress\docs\.vuepress\public\css-jsä¸‹

ä¿®æ”¹

vuepress-plugin-posts-encrypt\assets\index.html 

19è¡Œ

```js
  <script type="text/javascript" src="./css-js/vue.js"></script>
```

node_modules\vuepress-plugin-posts-encrypt\lib\utils\index.js

26è¡Œ

```js
exports.IVIEW_CSS_TAG = `<link rel="stylesheet" type="text/css" href="./css-js/iview.css" />`;
exports.ANIMATECSS_TAG = `<link rel="stylesheet" href="./css-js/animate.min.css" />`;
exports.IVIEW_JS_TAG = `<script type="text/javascript" src="./css-js/iview.min.js"></script>`;
```

node_modules\vuepress-plugin-posts-encrypt\lib\utils\encrypt.js

14è¡Œ

```js
exports.CRYPTO_INJECT = `<script src="./css-js/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`;
```



å­—ä½“åŒ…æ”¾åˆ°vuepress\docs\.vuepress\public\fonts\css-js

ä¸‹è½½åœ°å€

```http
https://unpkg.com/view-design@4.7.0/dist/styles/fonts/ionicons.ttf
https://unpkg.com/view-design@4.7.0/dist/styles/fonts/ionicons.woff
https://unpkg.com/view-design@4.7.0/dist/styles/fonts/ionicons.woff2
```



## License

**[MIT](https://github.com/alphawq/vuepress-plugin-posts-encrypt/blob/main/LICENSE)**

<script>
export default {
    mounted () {
      this.$page.lastUpdated = "2022/2/28 ä¸­åˆ12:52:09";
    }
  }
</script>