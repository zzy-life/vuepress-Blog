---
secret: true
---
# éŸ³ä¹æ’ä»¶

ğŸ° A simple plugin connect APlayer, Meting and VuePress.

[![npm](image/vuepress-plugin-meting-1642183885090.svg)](https://www.npmjs.com/package/vuepress-plugin-meting) [![GitHub stars](image/vuepress-plugin-meting-1642183885274.svg)](https://github.com/moefyit/vuepress-plugin-meting/stargazers) [![downloads](image/vuepress-plugin-meting-1642183885275.svg)](https://www.npmjs.com/package/vuepress-plugin-meting) [![downloads](image/vuepress-plugin-meting-1642183885669.svg)](https://www.npmjs.com/package/vuepress-plugin-meting) [![GitHub license](image/vuepress-plugin-meting.svg)](https://github.com/moefyit/vuepress-plugin-meting/blob/master/LICENSE)

- Document: [moefy-vuepress(opens new window)](https://moefyit.github.io/moefy-vuepress/)
- LiveDemo: [notev](https://nyakku.moe/)

## å®‰è£…

```bash
yarn add vuepress-plugin-meting -D
# or use npm
npm i vuepress-plugin-meting -D
```

æ’ä»¶åœ°å€ï¼š[vuepress-plugin-meting](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FSaszr%2Fvuepress-plugin-meting)

## Usage

```javascript
module.exports = {
   plugins: [
      'meting',
      {
         metingApi,
         meting,
         aplayer,
         mobile,
      },
   ],
}
```

ä½¿ç”¨è¯¥æ’ä»¶åå°†è‡ªåŠ¨æ³¨å†Œ `` ç»„ä»¶ä¸ `` ç»„ä»¶ï¼Œä½ å¯ä»¥åœ¨ä»»æ„ä½ç½®ä½¿ç”¨å®ƒä»¬

- `` ç»„ä»¶æ”¯æŒ `meting` Options å’Œ `aplayer` Optionsï¼Œå…¶ä¸­ `aplayer` çš„ `audio` é€‰é¡¹å°†è‡ªåŠ¨é€šè¿‡ metingApi è·å–ï¼Œå¦‚æœæƒ³è¦é¢å¤–æ·»åŠ  `audio` çš„è¯ï¼Œå¯ä»¥é€šè¿‡ `additionalAudios` é€‰é¡¹å®ç°
- `` ç»„ä»¶æ”¯æŒ `aplayer` Optionsï¼Œå½“ç„¶ï¼Œä½ éœ€è¦è‡ªè¡Œæä¾› `audio` éŸ³ä¹æº

`config.js` ä¸­çš„ `meting` é€‰é¡¹ã€`aplayer` é€‰é¡¹å’Œ `mobile` é€‰é¡¹æ˜¯å…¨å±€ UI ç»„ä»¶çš„é…ç½®é¡¹ï¼Œå½“ `meting` é€‰é¡¹è¢«é…ç½®åï¼Œå°†è‡ªåŠ¨æ³¨å†Œä¸€ä¸ªå…¨å±€ UI ç»„ä»¶ ``ï¼ˆå¸åº•æ¨¡å¼ï¼‰ï¼Œè¿™ä¸‰ä¸ªé…ç½®é¡¹ä¸å½±å“å…¶ä»–ç»„ä»¶çš„é…ç½®é¡¹

## Options

Options åˆ†ä¸º `metingApi`ã€`meting`ã€`aplayer`ã€`mobile` å››éƒ¨åˆ†

### metingApi

å³ `Meting` çš„ `api`ï¼Œé»˜è®¤ä¸º @metowolf æä¾›çš„ `api`ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå»ºä¿®æ”¹è¯¥é€‰é¡¹

### meting

`Meting` ç›¸å…³é€‰é¡¹

- server
  - ç±»å‹ï¼š`string`
  - é»˜è®¤å€¼ï¼š `undefined`
  - æè¿°ï¼šMetingApi ä¸­çš„ `server` å‚æ•°ï¼Œå³éŸ³ä¹å¹³å°
  - å¯é€‰å€¼ï¼š `"netease" | "tencent" | "kuwo" | "kugou" | "baidu"`
- type
  - ç±»å‹ï¼š`string`
  - é»˜è®¤å€¼ï¼š `undefined`
  - æè¿°ï¼šMetingApi ä¸­çš„ `type` å‚æ•°ï¼Œå³èµ„æºç±»å‹ï¼ˆæ’­æ”¾åˆ—è¡¨ã€å•æ›²ã€ä¸“è¾‘ç­‰ï¼‰
  - å¯é€‰å€¼ï¼š `"song" | "album" | "artist" | "playlist"`
- mid
  - ç±»å‹ï¼š`string`
  - é»˜è®¤å€¼ï¼š `undefined`
  - æè¿°ï¼šMetingApi ä¸­çš„ `id` å‚æ•°ï¼Œå³èµ„æº ID
- auto
  - ç±»å‹ï¼š`string`
  - é»˜è®¤å€¼ï¼š`""`
  - æè¿°ï¼šèµ„æº `url`ï¼Œå¡«å†™åå¯é€šè¿‡èµ„æº `url` è‡ªåŠ¨è§£æèµ„æºå¹³å°ã€ç±»å‹ã€IDï¼Œä¸Šè¿°ä¸‰ä¸ªé€‰é¡¹å°†è¢«è¦†ç›–ï¼ˆæœ¬å‚æ•°ä»…æ”¯æŒ `netease`ã€`tencent`ã€`xiami` ä¸‰å¹³å°ï¼‰

è¯¥ Option å¯åˆ†åˆ«å¡«å†™ `server`ã€`type`ã€`mid`

```javascript
meting: {
  server: "netease",
  type: "playlist",
  mid: "6838211960",
}
```

ä¹Ÿå¯ä»¥åªå¡«å†™ `auto`

```javascript
meting: {
   auto: 'https://music.163.com/#/playlist?id=6838211960'
}
```

### aplayer

> è¯¦æƒ…è§ [vue-aplayer æ–‡æ¡£ï¼ˆå½“å‰æ— æ³•è®¿é—®ï¼‰ (opens new window)](https://aplayer.moefe.org/docs/options/)[vue-aplayer æ–‡æ¡£ GitHub é¡µé¢(opens new window)](https://github.com/MoePlayer/vue-aplayer/blob/dev/docs/options/README.md)

- fixed

  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `false`
  - æè¿°ï¼šæ˜¯å¦å¼€å¯å¸åº•æ¨¡å¼

- mini

  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `false`
  - æè¿°ï¼šæ˜¯å¦å¼€å¯è¿·ä½ æ¨¡å¼

- autoplay

  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `false`
  - æè¿°ï¼šæ˜¯å¦å¼€å¯è‡ªåŠ¨æ’­æ”¾

- theme

  - ç±»å‹ï¼š `string`
  - é»˜è®¤å€¼ï¼š `#b7daff`
  - æè¿°ï¼šè®¾ç½®æ’­æ”¾å™¨é»˜è®¤ä¸»é¢˜é¢œè‰²

- loop

  - ç±»å‹ï¼š`APlayer.LoopMode`
  - é»˜è®¤å€¼ï¼š `all`
  - æè¿°ï¼šè®¾ç½®æ’­æ”¾å™¨çš„åˆå§‹å¾ªç¯æ¨¡å¼
  - å¯é€‰å€¼ï¼š`'all' | 'one' | 'none'`

- order

  - ç±»å‹ï¼š`APlayer.OrderMode`
  - é»˜è®¤å€¼ï¼š `list`
  - æè¿°ï¼šè®¾ç½®æ’­æ”¾å™¨çš„åˆå§‹é¡ºåºæ¨¡å¼
  - å¯é€‰å€¼ï¼š `'list' | 'random'`

- preload

  - ç±»å‹ï¼š`APlayer.Preload`
  - é»˜è®¤å€¼ï¼š `auto`
  - æè¿°ï¼šè®¾ç½®éŸ³é¢‘çš„é¢„åŠ è½½æ¨¡å¼
  - å¯é€‰å€¼ï¼š`'none' | 'metadata' | 'auto'`

- volume

  - ç±»å‹ï¼š`number`
  - é»˜è®¤å€¼ï¼š `0.7`
  - æè¿°ï¼šè®¾ç½®æ’­æ”¾å™¨çš„éŸ³é‡

- additionalAudios

  - ç±»å‹ï¼š`Array`

  - é»˜è®¤å€¼ï¼š`[]`

  - æè¿°ï¼šé™¤ Meting è§£æçš„ audio å¤–é¢å¤–æ·»åŠ çš„ audio

    > è¯¦æƒ…è§ [vue-aplayer æ–‡æ¡£çš„ audio é€‰é¡¹ (opens new window)](https://github.com/MoePlayer/vue-aplayer/blob/dev/docs/options/README.md#audio-)ï¼Œå¦å¤–ï¼Œä½œä¸º `` ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™ä»åº”è¯¥ä½¿ç”¨ audio é€‰é¡¹ã€‚

- customAudioTypeï¼ˆè§ [vue-aplayer æ–‡æ¡£ (opens new window)](https://github.com/MoePlayer/vue-aplayer/blob/dev/docs/options/README.md#customaudiotype-)ï¼‰

- mutex

  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `true`
  - æè¿°ï¼šæ˜¯å¦å¼€å¯äº’æ–¥æ¨¡å¼

- lrcType

  - ç±»å‹ï¼š`APlayer.LrcType?`
  - é»˜è®¤å€¼ï¼š `0`
  - æè¿°ï¼šè®¾ç½® lrc æ­Œè¯è§£ææ¨¡å¼
  - å¯é€‰å€¼ï¼š `3 | 1 | 0`ï¼ˆ`0`ï¼šç¦ç”¨ lrc æ­Œè¯ï¼Œ`1`ï¼šlrc æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œ`3`ï¼šlrc æ–‡ä»¶ urlï¼‰

- listFolded

  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `false`
  - æè¿°ï¼šæ˜¯å¦æŠ˜å æ’­æ”¾åˆ—è¡¨

- listMaxHeight

  - ç±»å‹ï¼š`number`
  - é»˜è®¤å€¼ï¼š `250`
  - æè¿°ï¼šè®¾ç½®æ’­æ”¾åˆ—è¡¨æœ€å¤§é«˜åº¦ï¼Œå•ä½ä¸ºåƒç´ 

- storageName

  - ç±»å‹ï¼š`string`
  - é»˜è®¤å€¼ï¼š `vuepress-plugin-meting`
  - æè¿°ï¼šè®¾ç½®å­˜å‚¨æ’­æ”¾å™¨è®¾ç½®çš„ `localStorage` key

### mobile

ç”¨äºæ§åˆ¶å…¨å±€å¸åº•æ’­æ”¾å™¨åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šçš„ä¸€äº›ç‰¹æ®Šé€‰é¡¹

- cover
  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `true`
  - æè¿°ï¼šæ˜¯å¦æ˜¾ç¤ºå°é¢å›¾ï¼Œå¦‚æœéšè—çš„è¯å¯ä»¥é˜²æ­¢æ’­æ”¾å™¨é®æŒ¡ç§»åŠ¨è®¾å¤‡ä¸Šçš„æ–‡å­—å†…å®¹
- lrc
  - ç±»å‹ï¼š`boolean`
  - é»˜è®¤å€¼ï¼š `true`
  - æè¿°ï¼šæ˜¯å¦æ˜¾ç¤ºæ­Œè¯

## Examples

```javascript
// .vuepress/config.js
module.exports = {
  plugins: {
    // é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ
    "meting": {
      meting: {
        // æ­Œå•åœ°å€-> å¦‚æœè¾“å…¥å¯å¿½ç•¥server|type|mid
        auto: 'https://music.163.com/#/playlist?id=5312894314',
        // å½“å‰æœåŠ¡ä¸ºnetease -> ç½‘æ˜“
        server: "netease",
        // ç±»å‹ä¸ºæ­Œå•
        type: "playlist",
        // æ­Œå•id
        mid: "5312894314",
      },
      aplayer: {
        // æ­Œå•ä¸ºéšæœº
        order: 'random',
        // 0ä¸ºä¸æ˜¾ç¤ºæ­Œè¯
        lrcType: 0,
        // éŸ³é‡
        volume: 0.15,
        // å¼€å¯è¿·ä½ æ¨¡å¼
        mini: true,
        // è‡ªåŠ¨æ’­æ”¾
        autoplay: true,
        additionalAudios : [
        {
          name: 'ê°•ë‚¨ì—­ 4ë²ˆ ì¶œêµ¬',
          artist: 'ç”Ÿæ´»å¥½æ‚²ä¼¤ï¼Œé›¨ä¸­æ‹‰è‚–é‚¦',
          url: 'https://assets.smallsunnyfox.com/music/2.mp3',
          cover: 'https://assets.smallsunnyfox.com/music/2.jpg'
         }
           
         ]
      },
    },
  }
}

ä½œè€…ï¼šmr_mao105730
é“¾æ¥ï¼šhttps://juejin.cn/post/6890921704755986445
æ¥æºï¼šç¨€åœŸæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
<!-- about.md -->

<Meting server="netease"
        type="playlist"
        mid="6838211960"
        :lrc-type="3"/>

<!-- è¿™æ ·å°±å¯ä»¥åœ¨ about.html é¡µé¢å•ç‹¬å¼•å…¥ä¸€ä¸ªæ’­æ”¾å™¨å’¯ï½ -->
```

## Thanks

- [APlayer(opens new window)](https://github.com/MoePlayer/APlayer)
- [VueAPlayer(opens new window)](https://github.com/MoePlayer/vue-aplayer)
- [Meting(opens new window)](https://github.com/metowolf/Meting)
- [MetingJS](https://github.com/metowolf/MetingJS)

## æ³¨æ„

ä¿®æ”¹node_modules\vuepress-plugin-meting\lib\enhanceAppFile.js

æ¸…é™¤defaultCoverçš„value

## ä½¿ç”¨æœ¬åœ°éŸ³æºæ²¡æœ‰è‡ªåŠ¨æ³¨å…¥baseé—®é¢˜

ä¿®æ”¹æºç node_modules\vuepress-plugin-meting\index.js

```javascript
  const {
      cover = true, lrc = true
    } = mobile

/* åŠ å…¥ */
    let base = context.base || '/';
    aplayer.additionalAudios.forEach((element, index) => {
      let url = element.url;
      if (url.substr(0, 1) == '/') {
        url = url.substr(1);
        aplayer.additionalAudios[index].url = base + url
      }
    });
/* ç»“æŸ */
    
    return {
      METING_API: metingApi,
      METING_OPTIONS: {
        auto,
        server,
        type,
        mid,
      },
```




<script>
export default {
    mounted () {
      this.$page.lastUpdated = "2022/1/14 ä¸‹åˆ10:09:09";
    }
  }
</script>