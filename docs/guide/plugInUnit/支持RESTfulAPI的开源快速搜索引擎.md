# æ”¯æŒRESTfulAPIçš„å¼€æºå¿«é€Ÿæœç´¢å¼•æ“

> æ”¯æŒRESTfulAPIçš„å¼€æºå¿«é€Ÿæœç´¢å¼•æ“

**Meilisearch**æ˜¯ä¸€ä¸ªå¼ºå¤§ã€å¿«é€Ÿã€å¼€æºã€æ˜“äºä½¿ç”¨å’Œéƒ¨ç½²çš„æœç´¢å¼•æ“ã€‚æ”¯æŒå‡ ä¹æ‰€æœ‰å¼€å‘è¯­è¨€é›†æˆï¼Œç”šè‡³ç›´æ¥æ”¯æŒjsç›´æ¥è°ƒç”¨ï¼Œåœ¨æœç´¢å’Œç´¢å¼•éƒ½æ˜¯é«˜åº¦å¯å®šåˆ¶çš„ã€‚å¼€ç®±å³ç”¨åœ°æä¾›äº†è¯¸å¦‚é”™å­—å®¹é”™ã€è¿‡æ»¤å™¨å’ŒåŒä¹‰è¯ç­‰åŠŸèƒ½ã€‚æœ‰å…³åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®[æˆ‘ä»¬çš„æ–‡æ¡£](https://docs.meilisearch.com/)ã€‚

 ![ç½‘é¡µç•Œé¢.gif](image/trumen-fast-1660399000420.gif) 

## âœ¨ç‰¹å¾

- è¾“å…¥å³æœç´¢ä½“éªŒï¼ˆå›ç­” < 50 æ¯«ç§’ï¼‰
- å…¨æ–‡æœç´¢
- é”™å­—å®¹å¿ï¼ˆç†è§£é”™åˆ«å­—å’Œæ‹¼å†™é”™è¯¯ï¼‰
- åˆ†é¢æœç´¢å’Œè¿‡æ»¤å™¨
- æ”¯æŒæ±‰å­—ï¼ˆæ±‰å­—ï¼‰
- æ”¯æŒåŒä¹‰è¯
- æ˜“äºå®‰è£…ã€éƒ¨ç½²å’Œç»´æŠ¤
- å…¨éƒ¨æ–‡ä»¶è¢«é€€å›
- é«˜åº¦å¯å®šåˆ¶
- RESTful API
- é«˜äº®çªå‡ºæ˜¾ç¤º
- åŠ æƒé™æƒ
- åœ¨æŸ¥è¯¢æ—¶å¯¹æœç´¢ç»“æœè¿›è¡Œæ’åº

## æ”¯æŒ

| SDK                                                          | Meilisearch | Algolia | Typesense | Elasticsearch |
| ------------------------------------------------------------ | :---------: | :-----: | :-------: | :-----------: |
| REST API                                                     |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [JavaScript å®¢æˆ·ç«¯](https://github.com/meilisearch/meilisearch-js) |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [PHPå®¢æˆ·ç«¯](https://github.com/meilisearch/meilisearch-php)  |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [Python å®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-python) |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [Rubyå®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-ruby) |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [javaå®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-java) |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [Swift å®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-swift) |      âœ…      |    âœ…    |   ğŸ”¶ WIP   |       âŒ       |
| [.NET å®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-dotnet) |      âœ…      |    âœ…    |     âŒ     |       âœ…       |
| [Rustå®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-rust) |      âœ…      |    âŒ    |   ğŸ”¶ WIP   |       âœ…       |
| [GOå®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-go)   |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [Dartå®¢æˆ·ç«¯ ](https://github.com/meilisearch/meilisearch-dart) |      âœ…      |    âœ…    |     âœ…     |       âŒ       |
| [Symfony](https://github.com/meilisearch/meilisearch-symfony) |      âœ…      |    âœ…    |     âŒ     |       âŒ       |
| [Django ](https://roadmap.meilisearch.com/c/60-django)       |      âŒ      |    âœ…    |     âŒ     |       âŒ       |
| [Rails ](https://github.com/meilisearch/meilisearch-rails)   |      âœ…      |    âœ…    |   ğŸ”¶ WIP   |       âœ…       |
| [Official Laravel Scout Support ](https://github.com/laravel/scout) |      âœ…      |    âœ…    |     âŒ     |       âŒ       |
| [UI Search Kit ](https://github.com/meilisearch/instant-meilisearch) |      âœ…      |    âœ…    |     âœ…     |       âœ…       |
| [Docsearch ](https://github.com/meilisearch/docs-scraper)    |      âœ…      |    âœ…    |     âœ…     |       âŒ       |
| [Strapi ](https://github.com/meilisearch/strapi-plugin-meilisearch) |      âœ…      |    âœ…    |     âŒ     |       âŒ       |
| [Gatsby](https://github.com/meilisearch/gatsby-plugin-meilisearch) |      âœ…      |    âœ…    |     âœ…     |       âŒ       |
| [Firebase ](https://github.com/meilisearch/firestore-meilisearch) |      âœ…      |    âœ…    |     âœ…     |       âŒ       |



## å…¶ä»–åŒç±»äº§å“æ¯”è¾ƒ

|            |                         Meilisearch                          |  Algolia   |                          Typesense                           | Elasticsearch                                       |
| :--------: | :----------------------------------------------------------: | :--------: | :----------------------------------------------------------: | --------------------------------------------------- |
| æºä»£ç è®¸å¯ | [MIT](https://choosealicense.com/licenses/mit/)ï¼ˆå®Œå…¨å¼€æºï¼‰  |    é—­æº    | [GPL-3](https://choosealicense.com/licenses/gpl-3.0/) ï¼ˆå®Œå…¨å¼€æºï¼‰ | SSPL ï¼ˆ[éå¼€æº ](https://opensource.org/node/1099)) |
|    å†…ç½®    | Rust [çœ‹çœ‹æˆ‘ä»¬ä¸ºä»€ä¹ˆç›¸ä¿¡ Rust  ](https://www.abetterinternet.org/docs/memory-safety/). |    C++     |                             C++                              | java                                                |
|  æ•°æ®å­˜å‚¨  |               å¸¦å†…å­˜æ˜ å°„çš„ç£ç›˜â€”â€”ä¸å— RAM é™åˆ¶                | å—å†…å­˜é™åˆ¶ |                          å—å†…å­˜é™åˆ¶                          | å¸¦æœ‰ RAM ç¼“å­˜çš„ç£ç›˜                                 |

## å…¥é—¨

### éƒ¨ç½²æœåŠ¡å™¨ï¼ˆå‡ ç§å®‰è£…æ–¹æ³•ï¼‰

#### Dockerï¼ˆæ¨èæ–¹æ³•ï¼‰

```bash
docker run -p 7700:7700 -v "$(pwd)/meili_data:/meili_data" getmeili/meilisearch
```

#### APTï¼ˆDebian å’Œ Ubuntuï¼‰

```bash
echo "deb [trusted=yes] https://apt.fury.io/meilisearch/ /" > /etc/apt/sources.list.d/fury.list
apt update && apt install meilisearch-http
meilisearch
```

#### ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ä¸€é”®å®‰è£…ï¼ˆLinux å’Œ Mac OSï¼‰

```bash
curl -L https://install.meilisearch.com | sh
./meilisearch
```

#### ä»æºä»£ç ç¼–è¯‘å¹¶è¿è¡Œå®ƒ

å¦‚æœæ‚¨åœ¨æœ¬åœ°ç³»ç»Ÿä¸Šå®‰è£…äº†æœ€æ–°çš„ç¨³å®š Rust ç¯å¢ƒï¼Œè¯·å…‹éš†å­˜å‚¨åº“å¹¶å°†å…¶æ›´æ”¹ä¸ºæ‚¨çš„å·¥ä½œç›®å½•ã€‚

```bash
git clone https://github.com/meilisearch/meilisearch.git
cd meilisearch
cargo run --release
```

### åˆ›å»ºç´¢å¼•å¹¶ä¸Šä¼ ä¸€äº›æ–‡æ¡£

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼å¦‚æœæ‚¨éœ€è¦æ ·æœ¬æ•°æ®é›†ï¼Œè¯·ä½¿ç”¨[æ­¤ç”µå½±æ•°æ®åº“](https://www.notion.so/meilisearch/A-movies-dataset-to-test-Meili-1cbf7c9cfa4247249c40edfa22d7ca87#b5ae399b81834705ba5420ac70358a65)ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨`datasets/`ç›®å½•ä¸­æ‰¾åˆ°å®ƒã€‚

```bash
curl -L https://docs.meilisearch.com/movies.json -o movies.json
```

ç°åœ¨ï¼Œæ‚¨å·²å‡†å¤‡å¥½ç´¢å¼•ä¸€äº›æ•°æ®ã€‚

```bash
curl -i -X POST 'http://127.0.0.1:7700/indexes/movies/documents' \
  --header 'content-type: application/json' \
  --data-binary @movies.json
```

### æœç´¢æ–‡ä»¶

#### åœ¨å‘½ä»¤è¡Œä¸­

æœç´¢å¼•æ“ç°åœ¨çŸ¥é“æ‚¨çš„æ–‡æ¡£ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ HTTP æœåŠ¡å™¨æä¾›è¿™äº›æ–‡æ¡£ã€‚

å‘½ä»¤è¡Œ[`jq`å·¥å…·](https://stedolan.github.io/jq/)å¯ä»¥æå¤§åœ°å¸®åŠ©æ‚¨é˜…è¯»æœåŠ¡å™¨å“åº”

```bash
curl 'http://127.0.0.1:7700/indexes/movies/search?q=botman+robin&limit=2' | jq
```

æˆ–è€…ç›´æ¥ä½¿ç”¨

```bash
curl \
  -X POST 'http://localhost:7700/indexes/movies/search' \
  -H 'Content-Type: application/json' \
  --data-binary '{ "q": "botman" }'
```

#### åœ¨ä»£ç ä¸­

js

```javascript
client.index('movies').search('botman').then((res) => console.log(res))
```

python

```python
client.index('movies').search('botman')
```

PHP

```php
$client->index('movies')->search('botman');
```

java

```java
client.index("movies").search("botman");
```



ç»“æœï¼š

```json
{
  "hits": [
    {
      "id": "415",
      "title": "Batman & Robin",
      "poster": "https://image.tmdb.org/t/p/w1280/79AYCcxw3kSKbhGpx1LiqaCAbwo.jpg",
      "overview": "Along with crime-fighting partner Robin and new recruit Batgirl, Batman battles the dual threat of frosty genius Mr. Freeze and homicidal horticulturalist Poison Ivy. Freeze plans to put Gotham City on ice, while Ivy tries to drive a wedge between the dynamic duo.",
      "release_date": 866768400
    },
    {
      "id": "411736",
      "title": "Batman: Return of the Caped Crusaders",
      "poster": "https://image.tmdb.org/t/p/w1280/GW3IyMW5Xgl0cgCN8wu96IlNpD.jpg",
      "overview": "Adam West and Burt Ward returns to their iconic roles of Batman and Robin. Featuring the voices of Adam West, Burt Ward, and Julie Newmar, the film sees the superheroes going up against classic villains like The Joker, The Riddler, The Penguin and Catwoman, both in Gotham Cityâ€¦ and in space.",
      "release_date": 1475888400
    }
  ],
  "nbHits": 8,
  "exhaustiveNbHits": false,
  "query": "botman robin",
  "limit": 2,
  "offset": 0,
  "processingTimeMs": 2
}
```

#### ä½¿ç”¨ç½‘ç»œç•Œé¢

æˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ª**å¼€ç®±å³ç”¨çš„[Web ç•Œé¢](https://github.com/meilisearch/mini-dashboard)**ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­äº¤äº’å¼åœ°æµ‹è¯• Meilisearchã€‚

æ‚¨å¯ä»¥åœ¨æœåŠ¡å™¨æ ¹ç›®å½•çš„ Web æµè§ˆå™¨ä¸­è®¿é—® Web ç•Œé¢ã€‚é»˜è®¤ URL æ˜¯[http://127.0.0.1:7700](http://127.0.0.1:7700/)ã€‚æ‚¨éœ€è¦åšçš„å°±æ˜¯æ‰“å¼€æ‚¨çš„ç½‘ç»œæµè§ˆå™¨å¹¶è¾“å…¥ Meilisearch çš„åœ°å€æ¥è®¿é—®å®ƒã€‚è¿™å°†å¼•å¯¼æ‚¨è¿›å…¥å¸¦æœ‰æœç´¢æ çš„ç½‘é¡µï¼Œå…è®¸æ‚¨åœ¨æ‰€é€‰ç´¢å¼•ä¸­è¿›è¡Œæœç´¢ã€‚

 ![Meilisearch çš„æœç´¢é¢„è§ˆæ˜¾ç¤ºç”µå½±ç´¢å¼•](image/default-1660399248923.png) 

### å‰ç«¯é›†æˆ

ç°åœ¨å”¯ä¸€ç¼ºå°‘çš„æ­¥éª¤æ˜¯åœ¨æ‚¨çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªæœç´¢æ ã€‚å®ç°è¿™ä¸€ç‚¹çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨

[Instant-meilisearch ](https://github.com/meilisearch/instant-meilisearch)ï¼šä¸€ä¸ªå¼€å‘è€…å·¥å…·ï¼Œç”Ÿæˆå¼€å§‹æœç´¢æ‰€éœ€çš„æ‰€æœ‰ç»„ä»¶ã€‚

ä»¥ä¸‹ä»£ç ç¤ºä¾‹ä½¿ç”¨çº¯[JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript) ï¼š

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch/templates/basic_search.css" />
  </head>
  <body>
    <div class="wrapper">
      <div id="searchbox" focus></div>
      <div id="hits"></div>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch@0.3.2/dist/instant-meilisearch.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
  <script>
    const search = instantsearch({
      indexName: "movies",
      searchClient: instantMeiliSearch(
        "http://localhost:7700"
      )
      });
      search.addWidgets([
        instantsearch.widgets.searchBox({
          container: "#searchbox"
        }),
        instantsearch.widgets.configure({ hitsPerPage: 8 }),
        instantsearch.widgets.hits({
          container: "#hits",
          templates: {
          item: `
            <div>
            <div class="hit-name">
                  {{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}
            </div>
            </div>
          `
          }
        })
      ]);
      search.start();
  </script>
</html>
```

 è¿™æ˜¯æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼š

- å‰å››è¡Œ`<body>`æ·»åŠ äº†ä¸¤ä¸ªå®¹å™¨å…ƒç´ ï¼š`#searchbox`å’Œ`#hits`ã€‚instant-meilisearchåœ¨é‡Œé¢åˆ›å»ºæœç´¢æ `#searchbox`å¹¶åˆ—å‡ºæœç´¢ç»“æœ`#hits`
- å‰ä¸¤ä¸ª `<script src="â€¦">` æ ‡ç­¾å¯¼å…¥åº“éœ€è¦è¿è¡Œinstant-meilisearch
- ç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯æœ€åä¸€ä¸ª`<script>`æ ‡ç­¾æ˜¯æ‚¨è‡ªå®šä¹‰çš„åœ°æ–¹`instant-meilisearch`



 ä¸‹ç¤ºä¾‹ä½¿ç”¨[Vue 2 ](https://vuejs.org/)ï¼Œç”¨äºæ„å»º Web ç”¨æˆ·ç•Œé¢çš„ JavaScript æ¡†æ¶çš„ç¬¬äºŒä¸ªä¸»è¦ç‰ˆæœ¬ã€‚ 

```vue
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch/templates/basic_search.css" />
</head>

<body>
  <div id="app" class="wrapper">
    <ais-instant-search :search-client="searchClient" index-name="movies">
      <ais-configure :hits-per-page.camel="10" />
      <ais-search-box placeholder="Search hereâ€¦" class="searchbox"></ais-search-box>
      <ais-hits>
        <div slot="item" slot-scope="{ item }">
          <ais-highlight :hit="item" attribute="title" />
        </div>
      </ais-hits>
    </ais-instant-search>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-instantsearch/vue2/umd/index.js"></script>
<script
  src="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch/dist/instant-meilisearch.umd.min.js"></script>
<script>
  Vue.use(VueInstantSearch)
  var app = new Vue({
    el: '#app',
    data: {
      searchClient: instantMeiliSearch('http://127.0.0.1:7700')
    }
  })
</script>

</html>

```

è¿™æ˜¯æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼š

- è¦instant-meilisearchä¸ Vue ä¸€èµ·ä½¿ç”¨ï¼Œæ‚¨å¿…é¡»åœ¨åº”ç”¨ç¨‹åºçš„ HTML ä¸­æ·»åŠ `<ais-instant-search>`ã€`<ais-search-box>`å’Œã€‚`<ais-hits>`è¿™äº›ç»„ä»¶åœ¨ç”Ÿæˆinstant-meilisearchæ¥å£æ—¶æ˜¯å¿…éœ€çš„
- å…¶ä»– Vue ç»„ä»¶ï¼Œä¾‹å¦‚`<ais-configure>`å’Œ`<ais-highlight>`æ˜¯å¯é€‰çš„ã€‚ä»–ä»¬ æä¾› å¯¹instant-meilisearchè¡Œä¸º å’Œ å¤–è¡¨ çš„æ›´å¤§ æ§åˆ¶
- ä½¿ç”¨ Vue`<script src="..">`è¿è¡Œæ‰€éœ€çš„å‰ä¸¤ä¸ªæ ‡ç­¾å¯¼å…¥åº“instant-meilisearch
- ç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯æœ€åä¸€ä¸ª`<script>`åˆ›å»ºä¸€ä¸ªæ–°çš„ Vue å®ä¾‹å¹¶æŒ‡ç¤ºå®ƒä½¿ç”¨instant-meilisearch



> ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨äº† Vue 2ã€‚å‚è€ƒ[è¿™ä¸ª GitHub issue ](https://github.com/meilisearch/meilisearch-vue/issues/102)äº†è§£æœ‰å…³ Vue 3 çš„æ›´å¤šä¿¡æ¯ã€‚



 ä»¥ä¸‹ä»£ç ç¤ºä¾‹ä½¿ç”¨[React ï¼ˆæ‰“å¼€æ–°çª—å£ï¼‰](https://reactjs.org/)ï¼Œä¸€ä¸ªç”¨äºæ„å»º Web ç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚ 

```react
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch/templates/basic_search.css" />
  </head>
  <body>
      <div id="app" class="wrapper"></div>
  </body>
  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/react-instantsearch-dom@6.7.0/dist/umd/ReactInstantSearchDOM.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch/dist/instant-meilisearch.umd.min.js"></script>
  <script>
    const { InstantSearch, SearchBox, Hits, Highlight, Configure } = ReactInstantSearchDOM;
    const searchClient = instantMeiliSearch(
      "http://localhost:7700"
    );
    const App = () => (
      React.createElement(InstantSearch, {
        indexName: "movies",
        searchClient: searchClient
      }, [
        React.createElement(SearchBox, { key: 1 }),
        React.createElement(Hits, { hitComponent: Hit, key: 2 }),
        React.createElement(Configure, { hitsPerPage: 10 })]
      )
    );

    const Hit = (props) => (
      React.createElement(Highlight, {
        attribute: "title",
        hit: props.hit
      })
    );
    
    const domContainer = document.querySelector('#app');
    ReactDOM.render(React.createElement(App), domContainer);
  </script>
</html>

```

è¿™æ˜¯æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼š

- å†…éƒ¨æ˜¯ React`< div id="app">`çš„`<body>`å…¥å£ç‚¹ã€‚instant-meilisearché€šè¿‡æ“ä½œ DOM åœ¨æ­¤ HTML å…ƒç´ å†…åˆ›å»ºæœç´¢æ å’Œæœç´¢ç»“æœå®¹å™¨
- å‰å››ä¸ªæ ‡ç­¾å¯¼å…¥åœ¨[React](https://reactjs.org/)`<script src="â€¦">`ä¸­è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰åº“instant-meilisearch
- æœ€åä¸€ä¸ª`<script>`æ ‡ç­¾åˆå§‹åŒ– Reactï¼Œè‡ªå®šä¹‰instant-meilisearchï¼Œå¹¶åœ¨é‡Œé¢åˆ›å»ºæ‰€æœ‰éœ€è¦çš„ UI å…ƒç´ `<div id="app">`



## æ–‡æ¡£

[ç°åœ¨æ‚¨çš„ Meilisearch æœåŠ¡å™¨å·²å¯åŠ¨å¹¶è¿è¡Œï¼Œæ‚¨å¯ä»¥åœ¨æ–‡æ¡£](https://docs.meilisearch.com/)ä¸­äº†è§£æœ‰å…³å¦‚ä½•è°ƒæ•´æœç´¢å¼•æ“çš„æ›´å¤šä¿¡æ¯ã€‚

